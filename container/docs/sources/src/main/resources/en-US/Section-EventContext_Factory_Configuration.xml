<?xml version='1.0'?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "JAIN_SLEE_User_Guide.ent">
%BOOK_ENTITIES;
]>

<section id="eventcontext_factory_configuration">
	
	<title>EventContext Factory Configuration</title>
	
	<para>The EventContext Factory is responsible for managing all EventContexts in the SLEE Container, and its behavior is configurable. The EventContext Factory configuration can be edited through an XML file and through the JMX MBean.</para>
	
		<section id="eventcontext_factory_persistent_configuration">
			<title>EventContext Factory Persistent Configuration</title>
			<para>Configuration is done through an XML descriptor for each &THIS.PLATFORM; Cluster. The XML file is named <filename>jboss-beans.xml</filename> and is located at <filename>{JBOSS_HOME}/server/{profile_name}/deploy/mobicents-slee/META-INF</filename></para>
			<para>The configuration is exposed as JBoss Microcontainer Bean and you can see an extract below.</para>
			<programlisting language="XML" role="XML"><![CDATA[
<bean name="Mobicents.JAINSLEE.EventContextFactoryConfiguration"
	class="org.mobicents.slee.container.management.jmx.EventContextFactoryConfiguration">
	<annotation>@org.jboss.aop.microcontainer.aspects.jmx.JMX(name=
		"org.mobicents.slee:name=EventContextFactoryConfiguration",exposedInterface=
		org.mobicents.slee.container.management.jmx.EventContextFactoryConfigurationMBean.class,
		registerDirectly=true)</annotation>
	<property name="defaultEventContextSuspensionTimeout">60000</property>
</bean>]]>
			</programlisting>
			<table frame="all" pgwide="1">
			  	<title>EventContext Factory Bean Configuration</title>
				<tgroup colsep="1" cols="3">
			    	<colspec colnum="1" colname="c0"/>
				    <colspec colnum="2" colname="c1"/>
				    <colspec colnum="3" colname="c2"/>
				    <thead>
						<row>
					        <entry>Property Name</entry>
				    	    <entry>Property Type</entry>
					    	<entry>Description</entry>
	      				</row>
				    </thead>
				    <tbody>
					      <row>
					      	<entry>defaultEventContextSuspensionTimeout</entry>
				    	    <entry>int</entry>
				       		<entry>defines the default timeout applied when suspending delivery of an EventContext</entry>
					      </row>					      					      					 
			    	</tbody>
			  	</tgroup>
			</table>
		</section>
		
		<section id="eventcontext_factory_jmx_configuration">
			<title>EventContext Factory JMX Configuration</title>
			<para>The EventContext Factory module configuration can be changed through JMX whilst the container is still running. However, configuration changes made using JMX are not persistant and will be lost on server shutdown.</para>
			
			<para>The variable which can be edited using JMX MBean is listed below: </para>

<screen>
org.mobicents.slee:name=EventContextFactoryConfiguration 
</screen>

<para>
For more information about using the JMX Console to edit MBean configuration, see <xref linkend="management_jmx_console"/>.</para>
		</section>	
		
</section>
	
