<?xml version='1.0'?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "JAIN_SLEE_Example_User_Guide.ent">
%BOOK_ENTITIES;
]>

<section id="configuration">
		<title>Configuration</title>
		<para>
			Two components can be configured in example:
			</para>
		<variablelist>
			<varlistentry>
				<term>LocationSbb</term>
				<listitem>
					<para>
						location components supports two different storage providers:
						<acronym>HA</acronym>
						and local.
						Default storage is local. It can be changed with
						sbb-env
						property:
						<literal>LOCATION_SERVICE_CLASS_NAME</literal>
						.
						It can have one of two values:
						
					</para>
					<variablelist>
						<varlistentry>
							<term>org.mobicents.slee.services.sip.location.nonha.NonHALocationService</term>
							<listitem>
								<para> this class implements local service, not replicated, based on java
											<literal>java.util.Map</literal>.</para>
							</listitem>
						</varlistentry>
						<varlistentry>
							<term>org.mobicents.slee.services.sip.location.jpa.JPALocationService</term>
							<listitem>
								<para>this class implements <acronym>HA</acronym> service, replicated storage, based on
											<acronym>JPA</acronym>.</para>
							</listitem>
						</varlistentry>
					</variablelist>
					
				
					
						<para>	
						 <literal>LocationSbb</literal> exposes <acronym>JMX</acronym> properties which can be accessed under
						<literal>ObjectName: slee:sipservice=Location
						</literal>. Supported properties:
						

						</para>
					<table frame="all" pgwide="1">
						<title>LocationSbb JMX properties</title>
						<tgroup colsep="1" cols="3">
							<colspec colnum="1" colname="c0" />
							<colspec colnum="2" colname="c1" />
							<colspec colnum="3" colname="c2" />

							<thead>
								<row>
									<entry>Name</entry>
									<entry>Type</entry>
									<entry>Description</entry>

								</row>
							</thead>
							<tbody>
								<row>
									<entry>registeredUsers</entry>
									<entry>java.util.Set&lt;java.lang.String&gt;</entry>
									<entry>Read only property. It return value is set with <acronym>AOR</acronym>s of users. </entry>
								</row>
								<row>
									<entry>registeredUserCount</entry>
									<entry>java.lang.Integer</entry>
									<entry>Read only property. Indicates how many users are registered.</entry>
								</row>
							</tbody>
						</tgroup>
					</table>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>ProxySbb</term>
				<listitem>
					<para>
						 Configuration can be changed
						in
						<filename>configuration.properties</filename>
						file or during runtime with
						<acronym>JMX</acronym>
						Bean.
						Bean is accessible under
						<literal>ObjectName: slee:sipproxyconfigurator=only_human
						</literal>
						, where
						<application>
							<replaceable>sipproxyconfigurator</replaceable>
						</application>
						value is equal to configuration name. Supported properties:
						

					</para>
					<table frame="all" pgwide="1">
						<title>ProxySbb JMX properties</title>
						<tgroup colsep="1" cols="3">
							<colspec colnum="1" colname="c0" />
							<colspec colnum="2" colname="c1" />
							<colspec colnum="3" colname="c2" />

							<thead>
								<row>
									<entry>Name</entry>
									<entry>Type</entry>
									<entry>Description</entry>

								</row>
							</thead>
							<tbody>
								<row>
									<entry>supportedURIScheme</entry>
									<entry>java.lang.String</entry>
									<entry>URI scheme supported by proxy. It coma separated list. By default it has value of {sip,sips}</entry>
								</row>
								<row>
									<entry>localDomain</entry>
									<entry>java.lang.String</entry>
									<entry>domain for which this proxy should provide services. Its comma separated list of values. By default it has value of {127.0.0.1, nist.gov	,mobicents.org}</entry>
								</row>
								<row>
									<entry>transports</entry>
									<entry>java.lang.String</entry>
									<entry>list of transports which can be used by proxy. Its comma separated list of values. By default it has value of {udp}, by default proxy uses first one available.</entry>
								</row>
								<row>
									<entry>sipPort</entry>
									<entry>java.lang.Integer</entry>
									<entry>Port which is used to send and receive messages. By defautl it has value of {5060}</entry>
								</row>
							</tbody>
						</tgroup>
					</table>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>RegistrarSbb</term>
				<listitem>
				<para> Configuration can be changed	 during runtime with
						<acronym>JMX</acronym>
						Bean.
						Bean is accessible under
						<literal>ObjectName: slee:sipregistrarconfigurator=v1RegistrarConf
						</literal>. Supported properties:
						
				</para>
				<table frame="all" pgwide="1">
						<title>RegistrarSbb JMX properties</title>
						<tgroup colsep="1" cols="3">
							<colspec colnum="1" colname="c0" />
							<colspec colnum="2" colname="c1" />
							<colspec colnum="3" colname="c2" />

							<thead>
								<row>
									<entry>Name</entry>
									<entry>Type</entry>
									<entry>Description</entry>

								</row>
							</thead>
							<tbody>
								<row>
									<entry>sipRegistrationMinExpires</entry>
									<entry>java.lang.Integer</entry>
									<entry>Minimal acceptable value of <literal>Expires</literal> Header</entry>
								</row>
								<row>
									<entry>sipRegistrationMaxExpires</entry>
									<entry>java.lang.Integer</entry>
									<entry>Maximal acceptable value of <literal>Expires</literal> Header</entry>
								</row>
							</tbody>
						</tgroup>
					</table>
				</listitem>
			</varlistentry>
			
			<!-- Dev: add Location Service? -->
			
		</variablelist>
		
	</section>